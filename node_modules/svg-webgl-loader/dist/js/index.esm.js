/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};function e(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function r(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))}function n(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var i={exports:{}},o=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}},s=o,a=Object.prototype.toString;function h(t){return"[object Array]"===a.call(t)}function u(t){return void 0===t}function c(t){return null!==t&&"object"==typeof t}function p(t){if("[object Object]"!==a.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===a.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),h(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var y={isArray:h,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!u(t)&&null!==t.constructor&&!u(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isPlainObject:p,isUndefined:u,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:l,isStream:function(t){return c(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function t(){var e={};function r(r,n){p(e[n])&&p(r)?e[n]=t(e[n],r):p(r)?e[n]=t({},r):h(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)f(arguments[n],r);return e},extend:function(t,e,r){return f(e,(function(e,n){t[n]=r&&"function"==typeof e?s(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}},d=y;function x(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var m=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(d.isURLSearchParams(e))n=e.toString();else{var i=[];d.forEach(e,(function(t,e){null!=t&&(d.isArray(t)?e+="[]":t=[t],d.forEach(t,(function(t){d.isDate(t)?t=t.toISOString():d.isObject(t)&&(t=JSON.stringify(t)),i.push(x(e)+"="+x(t))})))})),n=i.join("&")}if(n){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t},v=y;function g(){this.handlers=[]}g.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},g.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},g.prototype.forEach=function(t){v.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var b=g,w=y,_=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},M=_,S=function(t,e,r,n,i){var o=new Error(t);return M(o,e,r,n,i)},z=S,E=y,k=E.isStandardBrowserEnv()?{write:function(t,e,r,n,i,o){var s=[];s.push(t+"="+encodeURIComponent(e)),E.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),E.isString(n)&&s.push("path="+n),E.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},A=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},C=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},P=y,T=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],L=y,R=L.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=L.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0},O=y,N=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(z("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)},q=k,I=m,j=function(t,e){return t&&!A(e)?C(t,e):e},B=function(t){var e,r,n,i={};return t?(P.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=P.trim(t.substr(0,n)).toLowerCase(),r=P.trim(t.substr(n+1)),e){if(i[e]&&T.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([r]):i[e]?i[e]+", "+r:r}})),i):i},F=R,V=S,U=function(t){return new Promise((function(e,r){var n=t.data,i=t.headers,o=t.responseType;O.isFormData(n)&&delete i["Content-Type"];var s=new XMLHttpRequest;if(t.auth){var a=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.Authorization="Basic "+btoa(a+":"+h)}var u=j(t.baseURL,t.url);function c(){if(s){var n="getAllResponseHeaders"in s?B(s.getAllResponseHeaders()):null,i={data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:n,config:t,request:s};N(e,r,i),s=null}}if(s.open(t.method.toUpperCase(),I(u,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,"onloadend"in s?s.onloadend=c:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(c)},s.onabort=function(){s&&(r(V("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function(){r(V("Network Error",t,null,s)),s=null},s.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(V(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},O.isStandardBrowserEnv()){var p=(t.withCredentials||F(u))&&t.xsrfCookieName?q.read(t.xsrfCookieName):void 0;p&&(i[t.xsrfHeaderName]=p)}"setRequestHeader"in s&&O.forEach(i,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete i[e]:s.setRequestHeader(e,t)})),O.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),o&&"json"!==o&&(s.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){s&&(s.abort(),r(t),s=null)})),n||(n=null),s.send(n)}))},H=y,D=function(t,e){w.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))},G=_,Z={"Content-Type":"application/x-www-form-urlencoded"};function X(t,e){!H.isUndefined(t)&&H.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Y,W={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Y=U),Y),transformRequest:[function(t,e){return D(e,"Accept"),D(e,"Content-Type"),H.isFormData(t)||H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)?t:H.isArrayBufferView(t)?t.buffer:H.isURLSearchParams(t)?(X(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):H.isObject(t)||e&&"application/json"===e["Content-Type"]?(X(e,"application/json"),function(t,e,r){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||n&&H.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw G(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};W.headers={common:{Accept:"application/json, text/plain, */*"}},H.forEach(["delete","get","head"],(function(t){W.headers[t]={}})),H.forEach(["post","put","patch"],(function(t){W.headers[t]=H.merge(Z)}));var Q=W,J=y,$=Q,K=function(t){return!(!t||!t.__CANCEL__)},tt=y,et=function(t,e,r){var n=this||$;return J.forEach(r,(function(r){t=r.call(n,t,e)})),t},rt=K,nt=Q;function it(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var ot=y,st=function(t,e){e=e||{};var r={},n=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function a(t,e){return ot.isPlainObject(t)&&ot.isPlainObject(e)?ot.merge(t,e):ot.isPlainObject(e)?ot.merge({},e):ot.isArray(e)?e.slice():e}function h(n){ot.isUndefined(e[n])?ot.isUndefined(t[n])||(r[n]=a(void 0,t[n])):r[n]=a(t[n],e[n])}ot.forEach(n,(function(t){ot.isUndefined(e[t])||(r[t]=a(void 0,e[t]))})),ot.forEach(i,h),ot.forEach(o,(function(n){ot.isUndefined(e[n])?ot.isUndefined(t[n])||(r[n]=a(void 0,t[n])):r[n]=a(void 0,e[n])})),ot.forEach(s,(function(n){n in e?r[n]=a(t[n],e[n]):n in t&&(r[n]=a(void 0,t[n]))}));var u=n.concat(i).concat(o).concat(s),c=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return ot.forEach(c,h),r},at={_args:[["axios@0.21.4","/home/runner/work/svg-webgl-loader/svg-webgl-loader"]],_from:"axios@0.21.4",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.21.4",name:"axios",escapedName:"axios",rawSpec:"0.21.4",saveSpec:null,fetchSpec:"0.21.4"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_spec:"0.21.4",_where:"/home/runner/work/svg-webgl-loader/svg-webgl-loader",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"},ht={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){ht[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var ut={},ct=at.version.split(".");function pt(t,e){for(var r=e?e.split("."):ct,n=t.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}ht.transitional=function(t,e,r){var n=e&&pt(e);function i(t,e){return"[Axios v"+at.version+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,o,s){if(!1===t)throw new Error(i(o," has been removed in "+e));return n&&!ut[o]&&(ut[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,o,s)}};var lt={isOlderVersion:pt,assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],s=e[o];if(s){var a=t[o],h=void 0===a||s(a,o,t);if(!0!==h)throw new TypeError("option "+o+" must be "+h)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:ht},ft=y,yt=m,dt=b,xt=function(t){return it(t),t.headers=t.headers||{},t.data=et.call(t,t.data,t.headers,t.transformRequest),t.headers=tt.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),tt.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||nt.adapter)(t).then((function(e){return it(t),e.data=et.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return rt(e)||(it(t),e&&e.response&&(e.response.data=et.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},mt=st,vt=lt,gt=vt.validators;function bt(t){this.defaults=t,this.interceptors={request:new dt,response:new dt}}bt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=mt(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&vt.assertOptions(e,{silentJSONParsing:gt.transitional(gt.boolean,"1.0.0"),forcedJSONParsing:gt.transitional(gt.boolean,"1.0.0"),clarifyTimeoutError:gt.transitional(gt.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!n){var s=[xt,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(o),i=Promise.resolve(t);s.length;)i=i.then(s.shift(),s.shift());return i}for(var a=t;r.length;){var h=r.shift(),u=r.shift();try{a=h(a)}catch(t){u(t);break}}try{i=xt(a)}catch(t){return Promise.reject(t)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},bt.prototype.getUri=function(t){return t=mt(this.defaults,t),yt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},ft.forEach(["delete","get","head","options"],(function(t){bt.prototype[t]=function(e,r){return this.request(mt(r||{},{method:t,url:e,data:(r||{}).data}))}})),ft.forEach(["post","put","patch"],(function(t){bt.prototype[t]=function(e,r,n){return this.request(mt(n||{},{method:t,url:e,data:r}))}}));var wt=bt;function _t(t){this.message=t}_t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},_t.prototype.__CANCEL__=!0;var Mt=_t,St=Mt;function zt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new St(t),e(r.reason))}))}zt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},zt.source=function(){var t;return{token:new zt((function(e){t=e})),cancel:t}};var Et=zt,kt=y,At=o,Ct=wt,Pt=st;function Tt(t){var e=new Ct(t),r=At(Ct.prototype.request,e);return kt.extend(r,Ct.prototype,e),kt.extend(r,e),r}var Lt=Tt(Q);Lt.Axios=Ct,Lt.create=function(t){return Tt(Pt(Lt.defaults,t))},Lt.Cancel=Mt,Lt.CancelToken=Et,Lt.isCancel=K,Lt.all=function(t){return Promise.all(t)},Lt.spread=function(t){return function(e){return t.apply(null,e)}},Lt.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError},i.exports=Lt,i.exports.default=Lt;var Rt=i.exports,Ot=function(){function t(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return t.prototype.set=function(t,e,r,n,i,o,s,a,h){var u=this.elements;return u[0]=t,u[1]=n,u[2]=s,u[3]=e,u[4]=i,u[5]=a,u[6]=r,u[7]=o,u[8]=h,this},t.prototype.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},t.prototype.copy=function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this},t.prototype.extractBasis=function(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this},t.prototype.setFromMatrix4=function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},t.prototype.multiply=function(t){return this.multiplyMatrices(this,t)},t.prototype.premultiply=function(t){return this.multiplyMatrices(t,this)},t.prototype.multiplyMatrices=function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],s=r[3],a=r[6],h=r[1],u=r[4],c=r[7],p=r[2],l=r[5],f=r[8],y=n[0],d=n[3],x=n[6],m=n[1],v=n[4],g=n[7],b=n[2],w=n[5],_=n[8];return i[0]=o*y+s*m+a*b,i[3]=o*d+s*v+a*w,i[6]=o*x+s*g+a*_,i[1]=h*y+u*m+c*b,i[4]=h*d+u*v+c*w,i[7]=h*x+u*g+c*_,i[2]=p*y+l*m+f*b,i[5]=p*d+l*v+f*w,i[8]=p*x+l*g+f*_,this},t.prototype.multiplyScalar=function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},t.prototype.determinant=function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],h=t[7],u=t[8];return e*o*u-e*s*h-r*i*u+r*s*a+n*i*h-n*o*a},t.prototype.invert=function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],h=t[7],u=t[8],c=u*o-s*h,p=s*a-u*i,l=h*i-o*a,f=e*c+r*p+n*l;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var y=1/f;return t[0]=c*y,t[1]=(n*h-u*r)*y,t[2]=(s*r-n*o)*y,t[3]=p*y,t[4]=(u*e-n*a)*y,t[5]=(n*i-s*e)*y,t[6]=l*y,t[7]=(r*a-h*e)*y,t[8]=(o*e-r*i)*y,this},t.prototype.transpose=function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},t.prototype.getNormalMatrix=function(t){return this.setFromMatrix4(t).invert().transpose()},t.prototype.transposeIntoArray=function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},t.prototype.setUvTransform=function(t,e,r,n,i,o,s){var a=Math.cos(i),h=Math.sin(i);return this.set(r*a,r*h,-r*(a*o+h*s)+o+t,-n*h,n*a,-n*(-h*o+a*s)+s+e,0,0,1),this},t.prototype.scale=function(t,e){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],o=n[3],s=n[6],a=n[1],h=n[4],u=n[7];return n[0]=e*i+r*a,n[3]=e*o+r*h,n[6]=e*s+r*u,n[1]=-r*i+e*a,n[4]=-r*o+e*h,n[7]=-r*s+e*u,this},t.prototype.translate=function(t,e){var r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this},t.prototype.equals=function(t){for(var e=this.elements,r=t.elements,n=0;n<9;n++)if(e[n]!==r[n])return!1;return!0},t.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var r=0;r<9;r++)this.elements[r]=t[r+e];return this},t.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t},t.prototype.clone=function(){return(new t).fromArray(this.elements)},t}();function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}Ot.prototype.isMatrix3=!0;var qt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this.x},set:function(t){this.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.y},set:function(t){this.y=t},enumerable:!1,configurable:!0}),t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.setScalar=function(t){return this.x=t,this.y=t,this},t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.setComponent=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},t.prototype.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.add=function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},t.prototype.sub=function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},t.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.applyMatrix3=function(t){var e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},t.prototype.clampScalar=function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},t.prototype.clampLength=function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},t.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},t.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.angle=function(){return Math.atan2(-this.y,-this.x)+Math.PI},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},t.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},t.prototype.lerpVectors=function(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},t.prototype.fromBufferAttribute=function(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},t.prototype.rotateAround=function(t,e){var r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*n+t.x,this.y=i*n+o*r+t.y,this},t.prototype.random=function(){return this.x=Math.random(),this.y=Math.random(),this},t}();qt.prototype.isVector2=!0;for(var It=[],jt=0;jt<256;jt++)It[jt]=(jt<16?"0":"")+jt.toString(16);function Bt(t,e,r){return Math.max(e,Math.min(r,t))}function Ft(t,e,r){return(1-r)*t+r*e}function Vt(t,e){var r=new qt;return r.subVectors(t,e),r.set(-r.y,r.x).normalize()}var Ut=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),this._x=t,this._y=e,this._z=r,this._w=n}return t.slerp=function(t,e,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(t,e,n)},t.slerpFlat=function(t,e,r,n,i,o,s){var a=r[n+0],h=r[n+1],u=r[n+2],c=r[n+3],p=i[o+0],l=i[o+1],f=i[o+2],y=i[o+3];if(0===s)return t[e+0]=a,t[e+1]=h,t[e+2]=u,void(t[e+3]=c);if(1===s)return t[e+0]=p,t[e+1]=l,t[e+2]=f,void(t[e+3]=y);if(c!==y||a!==p||h!==l||u!==f){var d=1-s,x=a*p+h*l+u*f+c*y,m=x>=0?1:-1,v=1-x*x;if(v>Number.EPSILON){var g=Math.sqrt(v),b=Math.atan2(g,x*m);d=Math.sin(d*b)/g,s=Math.sin(s*b)/g}var w=s*m;if(a=a*d+p*w,h=h*d+l*w,u=u*d+f*w,c=c*d+y*w,d===1-s){var _=1/Math.sqrt(a*a+h*h+u*u+c*c);a*=_,h*=_,u*=_,c*=_}}t[e]=a,t[e+1]=h,t[e+2]=u,t[e+3]=c},t.multiplyQuaternionsFlat=function(t,e,r,n,i,o){var s=r[n],a=r[n+1],h=r[n+2],u=r[n+3],c=i[o],p=i[o+1],l=i[o+2],f=i[o+3];return t[e]=s*f+u*c+a*l-h*p,t[e+1]=a*f+u*p+h*c-s*l,t[e+2]=h*f+u*l+s*p-a*c,t[e+3]=u*f-s*c-a*p-h*l,t},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),t.prototype.set=function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._w)},t.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},t.prototype.setFromEuler=function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=t._x,n=t._y,i=t._z,o=t._order,s=Math.cos,a=Math.sin,h=s(r/2),u=s(n/2),c=s(i/2),p=a(r/2),l=a(n/2),f=a(i/2);switch(o){case"XYZ":this._x=p*u*c+h*l*f,this._y=h*l*c-p*u*f,this._z=h*u*f+p*l*c,this._w=h*u*c-p*l*f;break;case"YXZ":this._x=p*u*c+h*l*f,this._y=h*l*c-p*u*f,this._z=h*u*f-p*l*c,this._w=h*u*c+p*l*f;break;case"ZXY":this._x=p*u*c-h*l*f,this._y=h*l*c+p*u*f,this._z=h*u*f+p*l*c,this._w=h*u*c-p*l*f;break;case"ZYX":this._x=p*u*c-h*l*f,this._y=h*l*c+p*u*f,this._z=h*u*f-p*l*c,this._w=h*u*c+p*l*f;break;case"YZX":this._x=p*u*c+h*l*f,this._y=h*l*c+p*u*f,this._z=h*u*f-p*l*c,this._w=h*u*c-p*l*f;break;case"XZY":this._x=p*u*c-h*l*f,this._y=h*l*c-p*u*f,this._z=h*u*f+p*l*c,this._w=h*u*c+p*l*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this},t.prototype.setFromAxisAngle=function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t){var e=t.elements,r=e[0],n=e[4],i=e[8],o=e[1],s=e[5],a=e[9],h=e[2],u=e[6],c=e[10],p=r+s+c;if(p>0){var l=.5/Math.sqrt(p+1);this._w=.25/l,this._x=(u-a)*l,this._y=(i-h)*l,this._z=(o-n)*l}else if(r>s&&r>c){l=2*Math.sqrt(1+r-s-c);this._w=(u-a)/l,this._x=.25*l,this._y=(n+o)/l,this._z=(i+h)/l}else if(s>c){l=2*Math.sqrt(1+s-r-c);this._w=(i-h)/l,this._x=(n+o)/l,this._y=.25*l,this._z=(a+u)/l}else{l=2*Math.sqrt(1+c-r-s);this._w=(o-n)/l,this._x=(i+h)/l,this._y=(a+u)/l,this._z=.25*l}return this._onChangeCallback(),this},t.prototype.setFromUnitVectors=function(t,e){var r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()},t.prototype.angleTo=function(t){return 2*Math.acos(Math.abs(Bt(this.dot(t),-1,1)))},t.prototype.rotateTowards=function(t,e){var r=this.angleTo(t);if(0===r)return this;var n=Math.min(1,e/r);return this.slerp(t,n),this},t.prototype.identity=function(){return this.set(0,0,0,1)},t.prototype.invert=function(){return this.conjugate()},t.prototype.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},t.prototype.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},t.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},t.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},t.prototype.normalize=function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},t.prototype.multiply=function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},t.prototype.premultiply=function(t){return this.multiplyQuaternions(t,this)},t.prototype.multiplyQuaternions=function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,s=e._x,a=e._y,h=e._z,u=e._w;return this._x=r*u+o*s+n*h-i*a,this._y=n*u+o*a+i*s-r*h,this._z=i*u+o*h+r*a-n*s,this._w=o*u-r*s-n*a-i*h,this._onChangeCallback(),this},t.prototype.slerp=function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,s=o*t._w+r*t._x+n*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var a=1-s*s;if(a<=Number.EPSILON){var h=1-e;return this._w=h*o+e*this._w,this._x=h*r+e*this._x,this._y=h*n+e*this._y,this._z=h*i+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(a),c=Math.atan2(u,s),p=Math.sin((1-e)*c)/u,l=Math.sin(e*c)/u;return this._w=o*p+this._w*l,this._x=r*p+this._x*l,this._y=n*p+this._y*l,this._z=i*p+this._z*l,this._onChangeCallback(),this},t.prototype.slerpQuaternions=function(t,e,r){this.copy(t).slerp(e,r)},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},t.prototype.fromBufferAttribute=function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this},t.prototype._onChange=function(t){return this._onChangeCallback=t,this},t.prototype._onChangeCallback=function(){},t}();Ut.prototype.isQuaternion=!0;var Ht=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=r}return t.prototype.set=function(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this},t.prototype.setScalar=function(t){return this.x=t,this.y=t,this.z=t,this},t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.setZ=function(t){return this.z=t,this},t.prototype.setComponent=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},t.prototype.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.add=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},t.prototype.sub=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},t.prototype.multiply=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},t.prototype.applyEuler=function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Gt.setFromEuler(t))},t.prototype.applyAxisAngle=function(t,e){return this.applyQuaternion(Gt.setFromAxisAngle(t,e))},t.prototype.applyMatrix3=function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},t.prototype.applyNormalMatrix=function(t){return this.applyMatrix3(t).normalize()},t.prototype.applyMatrix4=function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},t.prototype.applyQuaternion=function(t){var e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,s=t.z,a=t.w,h=a*e+o*n-s*r,u=a*r+s*e-i*n,c=a*n+i*r-o*e,p=-i*e-o*r-s*n;return this.x=h*a+p*-i+u*-s-c*-o,this.y=u*a+p*-o+c*-i-h*-s,this.z=c*a+p*-s+h*-o-u*-i,this},t.prototype.project=function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},t.prototype.unproject=function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},t.prototype.transformDirection=function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},t.prototype.clampScalar=function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},t.prototype.clampLength=function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},t.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},t.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},t.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},t.prototype.lerpVectors=function(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this},t.prototype.cross=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},t.prototype.crossVectors=function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,s=e.y,a=e.z;return this.x=n*a-i*s,this.y=i*o-r*a,this.z=r*s-n*o,this},t.prototype.projectOnVector=function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)},t.prototype.projectOnPlane=function(t){return Dt.copy(this).projectOnVector(t),this.sub(Dt)},t.prototype.reflect=function(t){return this.sub(Dt.copy(t).multiplyScalar(2*this.dot(t)))},t.prototype.angleTo=function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var r=this.dot(t)/e;return Math.acos(Bt(r,-1,1))},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},t.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},t.prototype.setFromSpherical=function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},t.prototype.setFromSphericalCoords=function(t,e,r){var n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this},t.prototype.setFromCylindrical=function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},t.prototype.setFromCylindricalCoords=function(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this},t.prototype.setFromMatrixPosition=function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},t.prototype.setFromMatrixScale=function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},t.prototype.setFromMatrixColumn=function(t,e){return this.fromArray(t.elements,4*e)},t.prototype.setFromMatrix3Column=function(t,e){return this.fromArray(t.elements,3*e)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},t.prototype.fromBufferAttribute=function(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this},t.prototype.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this},t}();Ht.prototype.isVector3=!0;var Dt=new Ht,Gt=new Ut,Zt=new qt,Xt=new Ht,Yt=new Ot,Wt=new Ot,Qt=new Ot,Jt=new Ot,$t={defaultUnit:"px",defaultDPI:90},Kt=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,te={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}},ee=["mm","cm","in","pt","pc","px"];function re(t,e){void 0===e&&(e=$t);var r,n="px";if("string"==typeof t||t instanceof String)for(var i=0,o=ee.length;i<o;i++){var s=ee[i];if(t.endsWith(s)){n=s,t=t.substring(0,t.length-s.length);break}}return"px"===n&&"px"!==e.defaultUnit?r=te.in[e.defaultUnit]/e.defaultDPI:(r=te[n][e.defaultUnit])<0&&(r=te[n].in*e.defaultDPI),"number"==typeof t?r*t:r*parseFloat(t)}function ne(t,e,r){if("string"!=typeof t)throw new TypeError("Invalid input: "+Nt(t));var n,i={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},o=0,s=!0,a="",h="",u=[];function c(t,e,r){var n=new SyntaxError('Unexpected character "'+t+'" at index '+e+".");throw n.partial=r,n}function p(){""!==a&&(""===h?u.push(Number(a)):u.push(Number(a)*Math.pow(10,Number(h)))),a="",h=""}for(var l=t.length,f=0;f<l;f++)if(n=t[f],Array.isArray(e)&&e.includes(u.length%r)&&i.FLAGS.test(n))o=1,a=n,p();else{if(0===o){if(i.WHITESPACE.test(n))continue;if(i.DIGIT.test(n)||i.SIGN.test(n)){o=1,a=n;continue}if(i.POINT.test(n)){o=2,a=n;continue}i.COMMA.test(n)&&(s&&c(n,f,u),s=!0)}if(1===o){if(i.DIGIT.test(n)){a+=n;continue}if(i.POINT.test(n)){a+=n,o=2;continue}if(i.EXP.test(n)){o=3;continue}i.SIGN.test(n)&&1===a.length&&i.SIGN.test(a[0])&&c(n,f,u)}if(2===o){if(i.DIGIT.test(n)){a+=n;continue}if(i.EXP.test(n)){o=3;continue}i.POINT.test(n)&&"."===a[a.length-1]&&c(n,f,u)}if(3===o){if(i.DIGIT.test(n)){h+=n;continue}if(i.SIGN.test(n)){if(""===h){h+=n;continue}1===h.length&&i.SIGN.test(h)&&c(n,f,u)}}i.WHITESPACE.test(n)?(p(),o=0,s=!1):i.COMMA.test(n)?(p(),o=0,s=!0):i.SIGN.test(n)?(p(),o=1,a=n):i.POINT.test(n)?(p(),o=2,a=n):c(n,f,u)}return p(),u}function ie(t){var e=t.elements;return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function oe(t){var e=t.elements;return Math.sqrt(e[3]*e[3]+e[4]*e[4])}function se(t,e,r,n){void 0===n&&(n=$t),e=Object.assign({},e);var i={};if(t.hasAttribute("class"))for(var o=t.getAttribute("class").split(/\s/).filter(Boolean).map((function(t){return t.trim()})),s=0;s<o.length;s++)i=Object.assign(i,r["."+o[s]]);function a(r,n,o){void 0===o&&(o=function(t){return t.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),t}),t.hasAttribute(r)&&(e[n]=o(t.getAttribute(r))),i[r]&&(e[n]=o(i[r])),t.style&&""!==t.style[r]&&(e[n]=o(t.style[r]))}function h(t){return Math.max(0,Math.min(1,re(t,n)))}function u(t){return Math.max(0,re(t,n))}return t.hasAttribute("id")&&(i=Object.assign(i,r["#"+t.getAttribute("id")])),a("fill","fill"),a("fill-rule","fillRule"),a("fill-opacity","fillOpacity",h),a("opacity","opacity",h),a("stroke","stroke"),a("stroke-opacity","strokeOpacity",h),a("stroke-width","strokeWidth",u),a("stroke-linejoin","strokeLineJoin"),a("stroke-linecap","strokeLineCap"),a("stroke-miterlimit","strokeMiterLimit",u),a("visibility","visibility"),e}function ae(t,e,r,n){if(void 0===n&&(n=$t),!(t.hasAttribute("transform")||"use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))))return null;var i=function(t,e){void 0===e&&(e=$t);var r=new Ot,n=Yt;if("use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))){var i=re(t.getAttribute("x"),e),o=re(t.getAttribute("y"),e);r.translate(i,o)}if(t.hasAttribute("transform"))for(var s=t.getAttribute("transform").split(")"),a=s.length-1;a>=0;a--){var h=s[a].trim();if(""!==h){var u=h.indexOf("("),c=h.length;if(u>0&&u<c){var p=h.substr(0,u),l=ne(h.substr(u+1,c-u-1));switch(n.identity(),p){case"translate":l.length>=1&&(o=i=l[0],l.length>=2&&(o=l[1]),n.translate(i,o));break;case"rotate":if(l.length>=1){var f,y=0,d=0;f=-l[0]*Math.PI/180,l.length>=3&&(y=l[1],d=l[2]),Wt.identity().translate(-y,-d),Qt.identity().rotate(f),Jt.multiplyMatrices(Qt,Wt),Wt.identity().translate(y,d),n.multiplyMatrices(Wt,Jt)}break;case"scale":if(l.length>=1){var x=l[0],m=x;l.length>=2&&(m=l[1]),n.scale(x,m)}break;case"skewX":1===l.length&&n.set(1,Math.tan(l[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===l.length&&n.set(1,0,0,Math.tan(l[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===l.length&&n.set(l[0],l[2],l[4],l[1],l[3],l[5],0,0,1)}}r.premultiply(n)}}return r}(t,n);return r.length>0&&i.premultiply(r[r.length-1]),e.copy(i),r.push(i),i}var he=function(){function t(){this.type="Curve",this.arcLengthDivisions=200}return t.prototype.getPoint=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return console.warn("THREE.Curve: .getPoint() not implemented."),null},t.prototype.getPointAt=function(t,e){var r=this.getUtoTmapping(t);return this.getPoint(r,e)},t.prototype.getPoints=function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return e},t.prototype.getSpacedPoints=function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPointAt(r/t));return e},t.prototype.getLength=function(){var t=this.getLengths();return t[t.length-1]},t.prototype.getLengths=function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,r=[],n=this.getPoint(0),i=0;r.push(0);for(var o=1;o<=t;o++)i+=(e=this.getPoint(o/t)).distanceTo(n),r.push(i),n=e;return this.cacheArcLengths=r,r},t.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},t.prototype.getUtoTmapping=function(t,e){var r,n=this.getLengths(),i=0,o=n.length;r=e||t*n[o-1];for(var s,a=0,h=o-1;a<=h;)if((s=n[i=Math.floor(a+(h-a)/2)]-r)<0)a=i+1;else{if(!(s>0)){h=i;break}h=i-1}if(n[i=h]===r)return i/(o-1);var u=n[i];return(i+(r-u)/(n[i+1]-u))/(o-1)},t}(),ue=function(t){function r(){var e=t.call(this)||this;return e.cacheLengths=[],e.type="CurvePath",e.curves=[],e.autoClose=!1,e}return e(r,t),r.prototype.add=function(t){this.curves.push(t)},r.prototype.getPoint=function(t){for(var e=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=e){var i=r[n]-e,o=this.curves[n],s=o.getLength(),a=0===s?0:1-i/s;return o.getPointAt(a)}n++}return null},r.prototype.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},r.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},r.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,r=0,n=this.curves.length;r<n;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t},r.prototype.getSpacedPoints=function(t){void 0===t&&(t=40);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e},r.prototype.getPoints=function(t){void 0===t&&(t=12);for(var e,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],s=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s),h=0;h<a.length;h++){var u=a[h];e&&e.equals(u)||(r.push(u),e=u)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},r}(he),ce=function(t){function r(e,r){void 0===e&&(e=new qt),void 0===r&&(r=new qt);var n=t.call(this)||this;return n.type="LineCurve",n.v1=e,n.v2=r,n}return e(r,t),r.prototype.getPoint=function(t,e){void 0===e&&(e=new qt);var r=e;return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r},r.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},r}(he);function pe(t,e,r,n){return function(t,e){var r=1-t;return r*r*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,r)+function(t,e){return t*t*e}(t,n)}function le(t,e,r,n,i){return function(t,e){var r=1-t;return r*r*r*e}(t,e)+function(t,e){var r=1-t;return 3*r*r*t*e}(t,r)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,i)}ce.prototype.isLineCurve=!0;var fe=function(t){function r(e,r,n,i){void 0===e&&(e=new qt),void 0===r&&(r=new qt),void 0===n&&(n=new qt),void 0===i&&(i=new qt);var o=t.call(this)||this;return o.type="CubicBezierCurve",o.v0=e,o.v1=r,o.v2=n,o.v3=i,o}return e(r,t),r.prototype.getPoint=function(t,e){void 0===e&&(e=new qt);var r=e,n=this.v0,i=this.v1,o=this.v2,s=this.v3;return r.set(le(t,n.x,i.x,o.x,s.x),le(t,n.y,i.y,o.y,s.y)),r},r}(he);fe.prototype.isCubicBezierCurve=!0;var ye=function(t){function r(e,r,n){void 0===e&&(e=new qt),void 0===r&&(r=new qt),void 0===n&&(n=new qt);var i=t.call(this)||this;return i.type="QuadraticBezierCurve",i.v0=e,i.v1=r,i.v2=n,i}return e(r,t),r.prototype.getPoint=function(t,e){void 0===e&&(e=new qt);var r=e,n=this.v0,i=this.v1,o=this.v2;return r.set(pe(t,n.x,i.x,o.x),pe(t,n.y,i.y,o.y)),r},r}(he);ye.prototype.isQuadraticBezierCurve=!0;var de=function(t){function r(e,r,n,i,o,s,a,h){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=0),void 0===s&&(s=2*Math.PI),void 0===a&&(a=!1),void 0===h&&(h=0);var u=t.call(this)||this;return u.type="EllipseCurve",u.aX=e,u.aY=r,u.xRadius=n,u.yRadius=i,u.aStartAngle=o,u.aEndAngle=s,u.aClockwise=a,u.aRotation=h,u}return e(r,t),r.prototype.getPoint=function(t,e){for(var r=e||new qt,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);var s=this.aStartAngle+t*i,a=this.aX+this.xRadius*Math.cos(s),h=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),p=a-this.aX,l=h-this.aY;a=p*u-l*c+this.aX,h=p*c+l*u+this.aY}return r.set(a,h)},r}(he);de.prototype.isEllipseCurve=!0;var xe=function(t){function r(e){var r=t.call(this)||this;return r.curves=[],r.type="Path",r.currentPoint=new qt,e&&r.setFromPoints(e),r}return e(r,t),r.prototype.setFromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y);return this},r.prototype.moveTo=function(t,e){this.currentPoint.set(t,e)},r.prototype.lineTo=function(t,e){this.curves.push(new ce(new qt(this.currentPoint.x,this.currentPoint.y),new qt(t,e))),this.currentPoint.set(t,e)},r.prototype.bezierCurveTo=function(t,e,r,n,i,o){var s=new fe(new qt(this.currentPoint.x,this.currentPoint.y),new qt(t,e),new qt(r,n),new qt(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this},r.prototype.absarc=function(t,e,r,n,i,o){return this.absellipse(t,e,r,r,n,i,o),this},r.prototype.absellipse=function(t,e,r,n,i,o,s,a){var h=new de(t,e,r,n,i,o,s,a);if(this.curves.length>0){var u=h.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(h);var c=h.getPoint(1);return this.currentPoint.copy(c),this},r.prototype.quadraticCurveTo=function(t,e,r,n){var i=new ye(this.currentPoint.clone(),new qt(t,e),new qt(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this},r}(ue),me={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ve={h:0,s:0,l:0},ge={h:0,s:0,l:0};function be(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}function we(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function _e(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var Me=function(){function t(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}return t.prototype.set=function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},t.prototype.setScalar=function(t){return this.r=t,this.g=t,this.b=t,this},t.prototype.setHex=function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},t.prototype.setRGB=function(t,e,r){return this.r=t,this.g=e,this.b=r,this},t.prototype.setHSL=function(t,e,r){var n;if(t=(t%(n=1)+n)%n,e=Bt(e,0,1),r=Bt(r,0,1),0===e)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+e):r+e-r*e,o=2*r-i;this.r=be(o,i,t+1/3),this.g=be(o,i,t),this.b=be(o,i,t-1/3)}return this},t.prototype.setStyle=function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){var n=void 0,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[4]),this;if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[4]),this;break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(n[1])/360,a=parseInt(n[2],10)/100,h=parseInt(n[3],10)/100;return e(n[4]),this.setHSL(s,a,h)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){var u=r[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this},t.prototype.setColorName=function(t){var e=me[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this},t.prototype.clone=function(){return new t(this.r,this.g,this.b)},t.prototype.copy=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},t.prototype.copyGammaToLinear=function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},t.prototype.copyLinearToGamma=function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},t.prototype.convertGammaToLinear=function(t){return this.copyGammaToLinear(this,t),this},t.prototype.convertLinearToGamma=function(t){return this.copyLinearToGamma(this,t),this},t.prototype.copySRGBToLinear=function(t){return this.r=we(t.r),this.g=we(t.g),this.b=we(t.b),this},t.prototype.copyLinearToSRGB=function(t){return this.r=_e(t.r),this.g=_e(t.g),this.b=_e(t.b),this},t.prototype.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},t.prototype.convertLinearToSRGB=function(){return this.copyLinearToSRGB(this),this},t.prototype.getHex=function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},t.prototype.getHexString=function(){return("000000"+this.getHex().toString(16)).slice(-6)},t.prototype.getHSL=function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,r,n=this.r,i=this.g,o=this.b,s=Math.max(n,i,o),a=Math.min(n,i,o),h=(a+s)/2;if(a===s)e=0,r=0;else{var u=s-a;switch(r=h<=.5?u/(s+a):u/(2-s-a),s){case n:e=(i-o)/u+(i<o?6:0);break;case i:e=(o-n)/u+2;break;case o:e=(n-i)/u+4}e/=6}return t.h=e,t.s=r,t.l=h,t},t.prototype.getStyle=function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},t.prototype.offsetHSL=function(t,e,r){return this.getHSL(ve),ve.h+=t,ve.s+=e,ve.l+=r,this.setHSL(ve.h,ve.s,ve.l),this},t.prototype.add=function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},t.prototype.addColors=function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},t.prototype.addScalar=function(t){return this.r+=t,this.g+=t,this.b+=t,this},t.prototype.sub=function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},t.prototype.multiply=function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},t.prototype.multiplyScalar=function(t){return this.r*=t,this.g*=t,this.b*=t,this},t.prototype.lerp=function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},t.prototype.lerpColors=function(t,e,r){return this.r=t.r+(e.r-t.r)*r,this.g=t.g+(e.g-t.g)*r,this.b=t.b+(e.b-t.b)*r,this},t.prototype.lerpHSL=function(t,e){this.getHSL(ve),t.getHSL(ge);var r=Ft(ve.h,ge.h,e),n=Ft(ve.s,ge.s,e),i=Ft(ve.l,ge.l,e);return this.setHSL(r,n,i),this},t.prototype.equals=function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},t.prototype.fromBufferAttribute=function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},t.prototype.toJSON=function(){return this.getHex()},t}();Me.NAMES=me,Me.prototype.isColor=!0,Me.prototype.r=1,Me.prototype.g=1,Me.prototype.b=1;var Se=function(){function t(){this.type=t,this.color=new Me,this.subPaths=[],this.currentPath=null,this.userData=null}return t.prototype.moveTo=function(t,e){return this.currentPath=new xe,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},t.prototype.lineTo=function(t,e){return this.currentPath.lineTo(t,e),this},t.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this.currentPath.bezierCurveTo(t,e,r,n,i,o),this},t.prototype.quadraticCurveTo=function(t,e,r,n){return this.currentPath.quadraticCurveTo(t,e,r,n),this},t}();function ze(t,e){return t-(e-t)}function Ee(t,e,r,n,i,o,s,a){if(0!=e&&0!=r){n=n*Math.PI/180,e=Math.abs(e),r=Math.abs(r);var h=(s.x-a.x)/2,u=(s.y-a.y)/2,c=Math.cos(n)*h+Math.sin(n)*u,p=-Math.sin(n)*h+Math.cos(n)*u,l=e*e,f=r*r,y=c*c,d=p*p,x=y/l+d/f;if(x>1){var m=Math.sqrt(x);l=(e*=m)*e,f=(r*=m)*r}var v=l*d+f*y,g=(l*f-v)/v,b=Math.sqrt(Math.max(0,g));i===o&&(b=-b);var w=b*e*p/r,_=-b*r*c/e,M=Math.cos(n)*w-Math.sin(n)*_+(s.x+a.x)/2,S=Math.sin(n)*w+Math.cos(n)*_+(s.y+a.y)/2,z=ke(1,0,(c-w)/e,(p-_)/r),E=ke((c-w)/e,(p-_)/r,(-c-w)/e,(-p-_)/r)%(2*Math.PI);t.currentPath.absellipse(M,S,e,r,z,z+E,0===o,n)}else t.lineTo(a.x,a.y)}function ke(t,e,r,n){var i=t*r+e*n,o=Math.sqrt(t*t+e*e)*Math.sqrt(r*r+n*n),s=Math.acos(Math.max(-1,Math.min(1,i/o)));return t*n-e*r<0&&(s=-s),s}function Ae(t){var e=new Se;return function(t,e){var r=0;e.getAttribute("points").replace(Kt,(function(e,n,i){var o=re(n),s=re(i);0===r?t.moveTo(o,s):t.lineTo(o,s),r++}))}(e,t),e.currentPath.autoClose=!0,e}var Ce=function(t,e){void 0===e&&(e=$t);var r,n=[],i={},o=[],s=new Ot;return function t(a,h){if(1===a.nodeType){var u=ae(a,s,o,e),c=!0,p=null;switch(a.nodeName){case"svg":r=a.viewBox.baseVal;break;case"style":!function(t,e){if(t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length){for(var r=0;r<t.sheet.cssRules.length;r++){var n=t.sheet.cssRules[r];if(1===n.type)for(var i=n.selectorText.split(/,/gm).filter(Boolean).map((function(t){return t.trim()})),o=0;o<i.length;o++)e[i[o]]=Object.assign(e[i[o]]||{},n.style)}}}(a,i);break;case"g":h=se(a,h,i,e);break;case"path":h=se(a,h,i,e),a.hasAttribute("d")&&(p=function(t){for(var e=new Se,r=new qt,n=new qt,i=new qt,o=!0,s=!1,a=t.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),h=0,u=a.length;h<u;h++){var c=a[h],p=c.charAt(0),l=c.substr(1).trim();!0===o&&(s=!0,o=!1);var f=void 0;switch(p){case"M":for(var y=0,d=(f=ne(l)).length;y<d;y+=2)r.x=f[y+0],r.y=f[y+1],n.x=r.x,n.y=r.y,0===y?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"H":for(y=0,d=(f=ne(l)).length;y<d;y++)r.x=f[y],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"V":for(y=0,d=(f=ne(l)).length;y<d;y++)r.y=f[y],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"L":for(y=0,d=(f=ne(l)).length;y<d;y+=2)r.x=f[y+0],r.y=f[y+1],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"C":for(y=0,d=(f=ne(l)).length;y<d;y+=6)e.bezierCurveTo(f[y+0],f[y+1],f[y+2],f[y+3],f[y+4],f[y+5]),n.x=f[y+2],n.y=f[y+3],r.x=f[y+4],r.y=f[y+5],0===y&&!0===s&&i.copy(r);break;case"S":for(y=0,d=(f=ne(l)).length;y<d;y+=4)e.bezierCurveTo(ze(r.x,n.x),ze(r.y,n.y),f[y+0],f[y+1],f[y+2],f[y+3]),n.x=f[y+0],n.y=f[y+1],r.x=f[y+2],r.y=f[y+3],0===y&&!0===s&&i.copy(r);break;case"Q":for(y=0,d=(f=ne(l)).length;y<d;y+=4)e.quadraticCurveTo(f[y+0],f[y+1],f[y+2],f[y+3]),n.x=f[y+0],n.y=f[y+1],r.x=f[y+2],r.y=f[y+3],0===y&&!0===s&&i.copy(r);break;case"T":for(y=0,d=(f=ne(l)).length;y<d;y+=2){var x=ze(r.x,n.x),m=ze(r.y,n.y);e.quadraticCurveTo(x,m,f[y+0],f[y+1]),n.x=x,n.y=m,r.x=f[y+0],r.y=f[y+1],0===y&&!0===s&&i.copy(r)}break;case"A":for(y=0,d=(f=ne(l,[3,4],7)).length;y<d;y+=7)if(f[y+5]!=r.x||f[y+6]!=r.y){var v=r.clone();r.x=f[y+5],r.y=f[y+6],n.x=r.x,n.y=r.y,Ee(e,f[y],f[y+1],f[y+2],f[y+3],f[y+4],v,r),0===y&&!0===s&&i.copy(r)}break;case"m":for(y=0,d=(f=ne(l)).length;y<d;y+=2)r.x+=f[y+0],r.y+=f[y+1],n.x=r.x,n.y=r.y,0===y?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"h":for(y=0,d=(f=ne(l)).length;y<d;y++)r.x+=f[y],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"v":for(y=0,d=(f=ne(l)).length;y<d;y++)r.y+=f[y],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"l":for(y=0,d=(f=ne(l)).length;y<d;y+=2)r.x+=f[y+0],r.y+=f[y+1],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===y&&!0===s&&i.copy(r);break;case"c":for(y=0,d=(f=ne(l)).length;y<d;y+=6)e.bezierCurveTo(r.x+f[y+0],r.y+f[y+1],r.x+f[y+2],r.y+f[y+3],r.x+f[y+4],r.y+f[y+5]),n.x=r.x+f[y+2],n.y=r.y+f[y+3],r.x+=f[y+4],r.y+=f[y+5],0===y&&!0===s&&i.copy(r);break;case"s":for(y=0,d=(f=ne(l)).length;y<d;y+=4)e.bezierCurveTo(ze(r.x,n.x),ze(r.y,n.y),r.x+f[y+0],r.y+f[y+1],r.x+f[y+2],r.y+f[y+3]),n.x=r.x+f[y+0],n.y=r.y+f[y+1],r.x+=f[y+2],r.y+=f[y+3],0===y&&!0===s&&i.copy(r);break;case"q":for(y=0,d=(f=ne(l)).length;y<d;y+=4)e.quadraticCurveTo(r.x+f[y+0],r.y+f[y+1],r.x+f[y+2],r.y+f[y+3]),n.x=r.x+f[y+0],n.y=r.y+f[y+1],r.x+=f[y+2],r.y+=f[y+3],0===y&&!0===s&&i.copy(r);break;case"t":for(y=0,d=(f=ne(l)).length;y<d;y+=2)x=ze(r.x,n.x),m=ze(r.y,n.y),e.quadraticCurveTo(x,m,r.x+f[y+0],r.y+f[y+1]),n.x=x,n.y=m,r.x=r.x+f[y+0],r.y=r.y+f[y+1],0===y&&!0===s&&i.copy(r);break;case"a":for(y=0,d=(f=ne(l,[3,4],7)).length;y<d;y+=7)0==f[y+5]&&0==f[y+6]||(v=r.clone(),r.x+=f[y+5],r.y+=f[y+6],n.x=r.x,n.y=r.y,Ee(e,f[y],f[y+1],f[y+2],f[y+3],f[y+4],v,r),0===y&&!0===s&&i.copy(r));break;case"Z":case"z":e.currentPath.autoClose=!0,e.currentPath.curves.length>0&&(r.copy(i),e.currentPath.currentPoint.copy(r),o=!0);break;default:console.warn(c)}s=!1}return e}(a));break;case"rect":h=se(a,h,i,e),p=function(t,e){void 0===e&&(e=$t);var r=re(t.getAttribute("x")||0,e),n=re(t.getAttribute("y")||0,e),i=re(t.getAttribute("rx")||0,e),o=re(t.getAttribute("ry")||0,e),s=re(t.getAttribute("width"),e),a=re(t.getAttribute("height"),e),h=new Se;return h.moveTo(r+2*i,n),h.lineTo(r+s-2*i,n),0===i&&0===o||h.bezierCurveTo(r+s,n,r+s,n,r+s,n+2*o),h.lineTo(r+s,n+a-2*o),0===i&&0===o||h.bezierCurveTo(r+s,n+a,r+s,n+a,r+s-2*i,n+a),h.lineTo(r+2*i,n+a),0===i&&0===o||h.bezierCurveTo(r,n+a,r,n+a,r,n+a-2*o),h.lineTo(r,n+2*o),0===i&&0===o||h.bezierCurveTo(r,n,r,n,r+2*i,n),h}(a);break;case"polygon":case"polyline":h=se(a,h,i,e),p=Ae(a);break;case"circle":h=se(a,h,i,e),p=function(t,e){void 0===e&&(e=$t);var r=re(t.getAttribute("cx")||0,e),n=re(t.getAttribute("cy")||0,e),i=re(t.getAttribute("r")||0,e),o=new xe;o.absarc(r,n,i,0,2*Math.PI);var s=new Se;return s.subPaths.push(o),s}(a);break;case"ellipse":h=se(a,h,i,e),p=function(t,e){void 0===e&&(e=$t);var r=re(t.getAttribute("cx")||0,e),n=re(t.getAttribute("cy")||0,e),i=re(t.getAttribute("rx")||0,e),o=re(t.getAttribute("ry")||0,e),s=new xe;s.absellipse(r,n,i,o,0,2*Math.PI);var a=new Se;return a.subPaths.push(s),a}(a);break;case"line":h=se(a,h,i,e),p=function(t,e){void 0===e&&(e=$t);var r=re(t.getAttribute("x1")||0,e),n=re(t.getAttribute("y1")||0,e),i=re(t.getAttribute("x2")||0,e),o=re(t.getAttribute("y2")||0,e),s=new Se;return s.moveTo(r,n),s.lineTo(i,o),s.currentPath.autoClose=!1,s}(a);break;case"defs":c=!1;break;case"use":h=se(a,h,i,e);var l=a.href.baseVal.substring(1),f=a.viewportElement.getElementById(l);f?t(f,h):console.warn("SVGLoader: 'use node' references non-existent node id: "+l);break;default:console.warn("Invalid Node: "+a.nodeName)}if(p&&(void 0!==h.fill&&"none"!==h.fill&&p.color.setStyle(h.fill),function(t,e){for(var r=function(t){Xt.set(t.x,t.y,1).applyMatrix3(e),t.set(Xt.x,Xt.y)},n=function(t){return 0!==t.elements[1]||0!==t.elements[3]}(e),i=t.subPaths,o=0,s=i.length;o<s;o++)for(var a=i[o].curves,h=0;h<a.length;h++){var u=a[h];u.isLineCurve?(r(u.v1),r(u.v2)):u.isCubicBezierCurve?(r(u.v0),r(u.v1),r(u.v2),r(u.v3)):u.isQuadraticBezierCurve?(r(u.v0),r(u.v1),r(u.v2)):u.isEllipseCurve&&(n&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),Zt.set(u.aX,u.aY),r(Zt),u.aX=Zt.x,u.aY=Zt.y,u.xRadius*=ie(e),u.yRadius*=oe(e))}}(p,s),n.push(p),p.userData={node:a,style:h}),c)for(var y=a.childNodes,d=0;d<y.length;d++)t(y[d],h);u&&(o.pop(),o.length>0?s.copy(o[o.length-1]):s.identity())}}((new DOMParser).parseFromString(t,"image/svg+xml").documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:n,viewBox:r}},Pe=["webgl2","webgl","experimental-webgl"];function Te(t,e){for(var r=0;r<Pe.length;r++){var n=Pe[r],i=t.getContext(n,e);if(null!==i)return i}return null}var Le={alpha:!1,depth:!0,stencil:!0,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default",failIfMajorPerformanceCaveat:!1};function Re(t){var e=function(t,e){var r=Te(t,e);if(null===r){if(r=Te(t))return console.warn("Error creating WebGL context with DEFAULT_GL_Attributes. "+JSON.stringify(Le)),r;throw new Error("Error creating WebGL context.")}return r}(t,Le);e.viewport(0,0,t.width,t.height);var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,"\n\t\tattribute vec4 a_Position;\n\n\t\tvoid main() {\n\t\t  gl_Position = a_Position;\n\t\t}\n  "),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var n=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("Failed to compile vs_shader:"+n)}var i=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(i,"\n\t\tprecision mediump float;\n\t\tuniform vec4 u_FragColor;\n\n\t\tvoid main() {\n\t\t   gl_FragColor = u_FragColor;\n\t\t}\n\t"),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){n=e.getShaderInfoLog(i);throw e.deleteShader(i),new Error("Failed to compile fs_shader:"+n)}var o=e.createProgram();if(e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){n=e.getProgramInfoLog(o);throw e.deleteProgram(o),e.deleteShader(i),e.deleteShader(r),new Error(""+n)}return e.useProgram(o),{program:o,gl:e}}var Oe=new qt,Ne=function(){function t(t,e){void 0===t&&(t=new qt(1/0,1/0)),void 0===e&&(e=new qt(-1/0,-1/0)),this.min=t,this.max=e}return t.prototype.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},t.prototype.setFromPoints=function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},t.prototype.setFromCenterAndSize=function(t,e){var r=Oe.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},t.prototype.makeEmpty=function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},t.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y},t.prototype.getCenter=function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new qt),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},t.prototype.getSize=function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new qt),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},t.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},t.prototype.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},t.prototype.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},t.prototype.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},t.prototype.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},t.prototype.getParameter=function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new qt),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},t.prototype.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},t.prototype.clampPoint=function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new qt),e.copy(t).clamp(this.min,this.max)},t.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this},t.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},t.prototype.translate=function(t){return this.min.add(t),this.max.add(t),this},t.prototype.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}();Ne.prototype.isBox2=!0;var qe=function(t,e,r){void 0===r&&(r=2);var n,i,o,s,a,h,u,c=e&&e.length,p=c?e[0]*r:t.length,l=Ie(t,0,p,r,!0),f=[];if(!l||l.next===l.prev)return f;if(c&&(l=function(t,e,r,n){var i,o,s,a=[];for(i=0,o=e.length;i<o;i++)(s=Ie(t,e[i]*n,i<o-1?e[i+1]*n:t.length,n,!1))===s.next&&(s.steiner=!0),a.push(Ye(s));for(a.sort(De),i=0;i<a.length;i++)Ge(a[i],r),r=je(r,r.next);return r}(t,e,l,r)),t.length>80*r){n=o=t[0],i=s=t[1];for(var y=r;y<p;y+=r)(a=t[y])<n&&(n=a),(h=t[y+1])<i&&(i=h),a>o&&(o=a),h>s&&(s=h);u=0!==(u=Math.max(o-n,s-i))?1/u:0}return Be(l,f,r,n,i,u),f};function Ie(t,e,r,n,i){var o,s;if(i===function(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}(t,e,r,n)>0)for(o=e;o<r;o+=n)s=ir(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=ir(o,t[o],t[o+1],s);return s&&$e(s,s.next)&&(or(s),s=s.next),s}function je(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!$e(n,n.next)&&0!==Je(n.prev,n,n.next))n=n.next;else{if(or(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function Be(t,e,r,n,i,o,s){if(t){!s&&o&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=Xe(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(h=u;a>0||h>0&&n;)0!==a&&(0===h||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,h--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,u*=2}while(s>1)}(i)}(t,n,i,o);for(var a,h,u=t;t.prev!==t.next;)if(a=t.prev,h=t.next,o?Ve(t,n,i,o):Fe(t))e.push(a.i/r),e.push(t.i/r),e.push(h.i/r),or(t),t=h.next,u=h.next;else if((t=h)===u){s?1===s?Be(t=Ue(je(t),e,r),e,r,n,i,o,2):2===s&&He(t,e,r,n,i,o):Be(je(t),e,r,n,i,o,1);break}}}function Fe(t){var e=t.prev,r=t,n=t.next;if(Je(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(We(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Je(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ve(t,e,r,n){var i=t.prev,o=t,s=t.next;if(Je(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,h=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,u=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,p=Xe(a,h,e,r,n),l=Xe(u,c,e,r,n),f=t.prevZ,y=t.nextZ;f&&f.z>=p&&y&&y.z<=l;){if(f!==t.prev&&f!==t.next&&We(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Je(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,y!==t.prev&&y!==t.next&&We(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&Je(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;f&&f.z>=p;){if(f!==t.prev&&f!==t.next&&We(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Je(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;y&&y.z<=l;){if(y!==t.prev&&y!==t.next&&We(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&Je(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function Ue(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!$e(i,o)&&Ke(i,n,n.next,o)&&rr(i,o)&&rr(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),or(n),or(n.next),n=t=o),n=n.next}while(n!==t);return je(n)}function He(t,e,r,n,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Qe(s,a)){var h=nr(s,a);return s=je(s,s.next),h=je(h,h.next),Be(s,e,r,n,i,o),void Be(h,e,r,n,i,o)}a=a.next}s=s.next}while(s!==t)}function De(t,e){return t.x-e.x}function Ge(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r;var h,u=r,c=r.x,p=r.y,l=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&We(o<p?i:s,o,c,p,o<p?s:i,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(i-n.x),rr(n,t)&&(h<l||h===l&&(n.x>r.x||n.x===r.x&&Ze(r,n)))&&(r=n,l=h)),n=n.next}while(n!==u);return r}(t,e),e){var r=nr(e,t);je(e,e.next),je(r,r.next)}}function Ze(t,e){return Je(t.prev,t,e.prev)<0&&Je(e.next,t,t.next)<0}function Xe(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ye(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function We(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function Qe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Ke(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(rr(t,e)&&rr(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(Je(t.prev,t,e.prev)||Je(t,e.prev,e))||$e(t,e)&&Je(t.prev,t,t.next)>0&&Je(e.prev,e,e.next)>0)}function Je(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function $e(t,e){return t.x===e.x&&t.y===e.y}function Ke(t,e,r,n){var i=er(Je(t,e,r)),o=er(Je(t,e,n)),s=er(Je(r,n,t)),a=er(Je(r,n,e));return i!==o&&s!==a||(!(0!==i||!tr(t,r,e))||(!(0!==o||!tr(t,n,e))||(!(0!==s||!tr(r,t,n))||!(0!==a||!tr(r,e,n)))))}function tr(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function er(t){return t>0?1:t<0?-1:0}function rr(t,e){return Je(t.prev,t,t.next)<0?Je(t,e,t.next)>=0&&Je(t,t.prev,e)>=0:Je(t,e,t.prev)<0||Je(t,t.next,e)<0}function nr(t,e){var r=new sr(t.i,t.x,t.y),n=new sr(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function ir(t,e,r,n){var i=new sr(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function or(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function sr(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ar=function(){function t(){}return t.area=function(t){for(var e=t.length,r=0,n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r},t.isClockWise=function(e){return t.area(e)<0},t.triangulateShape=function(t,e){var r=[],n=[],i=[];hr(t),ur(r,t);var o=t.length;e.forEach(hr);for(var s=0;s<e.length;s++)n.push(o),o+=e[s].length,ur(r,e[s]);var a=qe(r,n);for(s=0;s<a.length;s+=3)i.push(a.slice(s,s+3));return i},t}();function hr(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function ur(t,e){for(var r=0;r<e.length;r++)t.push(e[r].x),t.push(e[r].y)}var cr=function(t){function r(e){var r,n,i,o,s=t.call(this,e)||this;return s.uuid=(r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,o=4294967295*Math.random()|0,(It[255&r]+It[r>>8&255]+It[r>>16&255]+It[r>>24&255]+"-"+It[255&n]+It[n>>8&255]+"-"+It[n>>16&15|64]+It[n>>24&255]+"-"+It[63&i|128]+It[i>>8&255]+"-"+It[i>>16&255]+It[i>>24&255]+It[255&o]+It[o>>8&255]+It[o>>16&255]+It[o>>24&255]).toUpperCase()),s.type="Shape",s.holes=[],s}return e(r,t),r.prototype.getPointsHoles=function(t){for(var e=[],r=0,n=this.holes.length;r<n;r++)e[r]=this.holes[r].getPoints(t);return e},r.prototype.extractPoints=function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},r}(xe),pr=function(t){var e=999999999,r=0,n=1,i=2,o=3,s=4,a=5,h=6,u={loc:r,t:0};function c(t,e,n,o){var s=t.x,a=e.x,h=n.x,c=o.x,l=t.y,f=e.y,y=n.y,d=o.y,x=(c-h)*(l-y)-(d-y)*(s-h),m=(d-y)*(a-s)-(c-h)*(f-l),v=x/m,g=((a-s)*(l-y)-(f-l)*(s-h))/m;if(0===m&&0!==x||v<=0||v>=1||g<0||g>1)return null;if(0===x&&0===m){for(var b=0;b<2;b++){if(p(0===b?n:o,t,e),u.loc==r)return{x:(w=0===b?n:o).x,y:w.y,t:u.t};if(u.loc==i)return{x:+(s+u.t*(a-s)).toPrecision(10),y:+(l+u.t*(f-l)).toPrecision(10),t:u.t}}return null}for(b=0;b<2;b++){var w;if(p(0===b?n:o,t,e),u.loc==r)return{x:(w=0===b?n:o).x,y:w.y,t:u.t}}return{x:+(s+v*(a-s)).toPrecision(10),y:+(l+v*(f-l)).toPrecision(10),t:v}}function p(t,e,c){var p,l=c.x-e.x,f=c.y-e.y,y=t.x-e.x,d=t.y-e.y,x=l*d-y*f;if(t.x===e.x&&t.y===e.y)return u.loc=r,void(u.t=0);if(t.x===c.x&&t.y===c.y)return u.loc=n,void(u.t=1);x<-Number.EPSILON?u.loc=o:x>Number.EPSILON?u.loc=s:l*y<0||f*d<0?u.loc=a:Math.sqrt(l*l+f*f)<Math.sqrt(y*y+d*d)?u.loc=h:(p=0!==l?y/l:d/f,u.loc=i,u.t=p)}function l(t,e,r){var n=new qt;e.getCenter(n);var i=[];return r.forEach((function(e){if(e.boundingBox.containsPoint(n)){var r=function(t,e){for(var r=[],n=[],i=1;i<t.length;i++)for(var o=t[i-1],s=t[i],a=function(t){var i=e[t-1],a=e[t],h=c(o,s,i,a);null!==h&&void 0===r.find((function(t){return t.t<=h.t+Number.EPSILON&&t.t>=h.t-Number.EPSILON}))&&(r.push(h),n.push(new qt(h.x,h.y)))},h=1;h<e.length;h++)a(h);return n}(t,e.points);r.forEach((function(t){i.push({identifier:e.identifier,isCW:e.isCW,point:t})}))}})),i.sort((function(t,e){return t.point.x-e.point.x})),i}var f=0,y=e,d=-999999999,x=t.subPaths.map((function(t){for(var r=t.getPoints(),n=-999999999,i=e,o=-999999999,s=e,a=0;a<r.length;a++){var h=r[a];h.y>n&&(n=h.y),h.y<i&&(i=h.y),h.x>o&&(o=h.x),h.x<s&&(s=h.x)}return d<=o&&(d=o+1),y>=s&&(y=s-1),{points:r,isCW:ar.isClockWise(r),identifier:f++,boundingBox:new Ne(new qt(s,i),new qt(o,n))}})),m=(x=x.filter((function(t){return t.points.length>1}))).map((function(e){return function(t,e,r,n,i){null!=i&&""!==i||(i="nonzero");var o=new qt;t.boundingBox.getCenter(o);var s=l([new qt(r,o.y),new qt(n,o.y)],t.boundingBox,e);s.sort((function(t,e){return t.point.x-e.point.x}));var a=[],h=[];s.forEach((function(e){e.identifier===t.identifier?a.push(e):h.push(e)}));for(var u=a[0].point.x,c=[],p=0;p<h.length&&h[p].point.x<u;)c.length>0&&c[c.length-1]===h[p].identifier?c.pop():c.push(h[p].identifier),p++;if(c.push(t.identifier),"evenodd"===i){var f=c.length%2==0,y=c[c.length-2];return{identifier:t.identifier,isHole:f,for:y}}if("nonzero"===i){f=!0,y=null;for(var d=null,x=0;x<c.length;x++){var m=c[x];f?(d=e[m].isCW,f=!1,y=m):d!==e[m].isCW&&(d=e[m].isCW,f=!0)}return{identifier:t.identifier,isHole:f,for:y}}console.warn('fill-rule: "'+i+'" is currently not implemented.')}(e,x,y,d,t.userData.style.fillRule)})),v=[];return x.forEach((function(t){if(!m[t.identifier].isHole){var e=new cr(t.points);m.filter((function(e){return e.isHole&&e.for===t.identifier})).forEach((function(t){var r=x[t.identifier];e.holes.push(new xe(r.points))})),v.push(e)}})),v};function lr(t,e){var r=t.x,n=t.y;return r<e.minX&&(e.minX=r),r>e.maxX&&(e.maxX=r),n<e.minY&&(e.minY=n),n>e.maxY&&(e.maxY=n),e}function fr(t,e,r,n){var i=r.x,o=r.y,s=r.width,a=r.height,h=n.width/2,u=n.height/2;return t.map((function(t,r){return r%2==0?(s/e.width*(t-e.x)+i-h)/h:(u-(a/e.height*(t-e.y)+o))/u}))}function yr(t,e){e&&(e<1?(t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):t.disable(t.BLEND))}function dr(t,e,r,n){var i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null);var o=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,i),t.vertexAttribPointer(e,2,t.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0),t.enableVertexAttribArray(e),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o),t.drawElements(t.TRIANGLES,n.length,t.UNSIGNED_SHORT,0)}function xr(t){return r(this,void 0,void 0,(function(){var e,i,o,s,a,h,u,c;return n(this,(function(p){switch(p.label){case 0:return[4,(l=t,r(void 0,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,Rt.get(l)];case 1:return[2,t.sent().data]}}))})))];case 1:return e=p.sent(),i=Ce(e),o=i.paths,s=i.viewBox,a=function(t){var e=[],r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return t.forEach((function(t){var n=t.userData.style,i=n.fill,o=n.fillOpacity;if(i&&"none"!==i){var s=(new Me).setStyle(i);pr(t).forEach((function(t){var n=[],i=[],a=t.extractPoints(12),h=a.shape,u=a.holes;!1===ar.isClockWise(h)&&(h=h.reverse());for(var c=0,p=u.length;c<p;c++){var l=u[c];!0===ar.isClockWise(l)&&(u[c]=l.reverse())}var f=ar.triangulateShape(h,u);for(c=0,p=u.length;c<p;c++)l=u[c],h=h.concat(l);for(c=0,p=h.length;c<p;c++){var y=h[c];r=lr(y,r),i.push(y.x,y.y)}for(c=0,p=f.length;c<p;c++){var d=f[c],x=d[0],m=d[1],v=d[2];n.push(x,m,v)}e.push({type:"fill",indices:n,vertices:i,color:s,fillOpacity:o})}))}var a=t.userData.style.stroke;if(a&&"none"!==a){var h=t.userData.style,u=h.strokeWidth/2,c=h.strokeLineCap,p=h.strokeLineJoin,l=h.strokeOpacity,f=(new Me).setStyle(a),y=[],d=[],x=[],m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=[];if(t&&t.length>0)for(var n=void 0,i=0;i<t.length;i+=1){n=t[i];var o=x.indexOf(n);-1===o?(r.push(x.length/2),x.push(n.x,n.y)):r.push(o)}return r};t.subPaths.forEach((function(t){if(!((y=t.getPoints()).length<2)){var n=y[0].equals(y[y.length-1]);n&&y.push(y[1].clone());for(var i,o,s,a,h,v,g,b,w,_,M,S=Vt(y[1],y[0]),z=S.clone().multiplyScalar(u),E=y[0],k=y[0].clone().sub(z),A=y[0].clone().add(z),C=y[0],P=k,T=A,L=1,R=y.length;L<R;L+=1){if(i=y[L],o=y[L+1],_=(g=Vt(i,C)).clone().multiplyScalar(u),s=i.clone().sub(_),a=i.clone().add(_),o)if(M=Vt(o,i).clone().multiplyScalar(u),h=i.clone().sub(M),v=i.clone().add(M),s.equals(h))d.push.apply(d,m(P,T,s,s,T,a)),P=s,T=a;else{var O=(new qt).subVectors(o,i).normalize(),N=Math.abs(g.dot(O)),q=u/N;O.setLength(q),b=(new qt).subVectors(C,i).setLength(q).add(O),w=new qt(-b.x,-b.y).add(i),b=b.add(i),o.clone().sub(M),o.clone().add(M);var I=!1;g.dot((new qt).subVectors(o,C))>0&&(I=!0);var j=(new qt).subVectors(C,i),B=j.length();j.normalize();var F=(new qt).subVectors(b,i),V=(new qt).subVectors(o,i),U=V.length();if(V.normalize(),Math.abs(j.dot(F))<B&&Math.abs(V.dot(F))<U)switch(p){case"round":if(I){d.push.apply(d,m(P,T,b,b,s,P));var H=(new qt).subVectors(s,b).normalize().dot((new qt).subVectors(h,b).normalize()),D=Math.PI;Math.abs(H)<1&&(D=Math.abs(Math.acos(H))),D/=12;for(var G=s.clone(),Z=s.clone(),X=0;X<12;X+=1)Z.rotateAround(b,D),d.push.apply(d,m(b,Z,G)),G.copy(Z)}else{d.push.apply(d,m(P,T,b,b,T,a));var Y=(new qt).subVectors(a,b).normalize().dot((new qt).subVectors(v,b).normalize());D=Math.PI,Math.abs(Y)<1&&(D=Math.abs(Math.acos(Y))),D/=12,G=v.clone(),Z=v.clone();for(var W=0;W<12;W+=1)G.rotateAround(b,D),d.push.apply(d,m(b,G,Z)),Z.copy(G)}P=h,T=v;break;case"bevel":I?d.push.apply(d,m(P,T,b,b,s,P,b,h,s)):d.push.apply(d,m(P,T,b,b,T,a,b,a,v)),P=h,T=v;break;default:I?d.push.apply(d,m(P,T,b,b,w,P)):d.push.apply(d,m(P,T,b,b,T,w)),P=b,T=w,I&&(P=w,T=b)}else{switch(p){case"round":if(I){d.push.apply(d,m(P,T,s,s,T,a));var Q=(new qt).subVectors(s,i).normalize().dot((new qt).subVectors(h,i).normalize());D=Math.PI,Math.abs(Q)<1&&(D=Math.abs(Math.acos(Q))),D/=12,G=s.clone(),Z=s.clone();for(var J=0;J<12;J+=1)Z.rotateAround(i,D),d.push.apply(d,m(i,Z,G)),G.copy(Z)}else{d.push.apply(d,m(P,T,s,s,T,a));var $=(new qt).subVectors(a,i).normalize().dot((new qt).subVectors(v,i).normalize());D=Math.PI,Math.abs($)<1&&(D=Math.abs(Math.acos($))),D/=12,G=a.clone(),Z=a.clone();for(var K=0;K<12;K+=1)Z.rotateAround(i,D),d.push.apply(d,m(i,G,Z)),G.copy(Z)}break;case"bevel":I?d.push.apply(d,m(P,T,s,s,T,a,i,h,s)):d.push.apply(d,m(P,T,s,s,T,a,i,a,v));break;default:d.push.apply(d,m(P,T,s,s,T,a))}P=h,T=v}}else if(d.push.apply(d,m(P,T,s,s,T,a)),!n)switch(c){case"square":var tt=S.clone().multiplyScalar(u),et=new qt(-tt.y,tt.x),rt=k.clone().add(et),nt=A.clone().add(et);d.push.apply(d,m(rt,A,k,rt,nt,A)),tt=Vt(i,C).multiplyScalar(u),et=new qt(tt.y,-tt.x),rt=s.clone().add(et),nt=a.clone().add(et),d.push.apply(d,m(rt,nt,a,a,s,rt));break;case"round":D=Math.PI/12,G=A.clone(),Z=A.clone();for(var it=0;it<12;it+=1)Z.rotateAround(E,D),d.push.apply(d,m(E,G,Z)),G.copy(Z);G=s.clone(),Z=s.clone();for(var ot=0;ot<12;ot+=1)Z.rotateAround(i,D),d.push.apply(d,m(i,Z,G)),G.copy(Z)}C=i}for(L=0,R=x.length;L<R;L+=2)lr(new qt(x[L],x[L+1]),r);e.push({type:"stroke",color:f,strokeOpacity:l,vertices:x,indices:d})}}))}})),{data:e,boundary:r}}(o),h=a.data,u=a.boundary,(c={draw:null}).draw=function(t){var e=t.loc,r=t.canvas,n=t.config,i=void 0===n?{needTrim:!1,needFill:!0,needStroke:!0}:n,o=function(t,e,r){var n=e.maxX,i=e.minX,o=e.maxY,s=e.minY,a=t;return a.width||(a.width=n-i),a.height||(a.height=o-s),r&&(a={x:i,y:s,width:n-i,height:o-s}),a}(s,u,i.needTrim),a={x:0,y:0,width:o.width,height:o.height};(e=e||a).width=e.width||o.width,e.height=e.height||o.height;var c=Re(r),p=c.program;return function(t,e,r,n,i,o,s){var a=t.getAttribLocation(e,"a_Position"),h=t.getUniformLocation(e,"u_FragColor"),u=s||{},c=u.needFill,p=u.needStroke;n.forEach((function(e){var n,s,u,l=e.type;if("fill"===l&&c){var f=e;yr(t,null==f?void 0:f.fillOpacity),t.uniform4f(h,f.color.r,f.color.g,f.color.b,f.fillOpacity),n=f.vertices,u=f.indices,s=fr(n,i,o,r),dr(t,a,s,u)}if("stroke"===l&&p){var y=e;yr(t,null==y?void 0:y.strokeOpacity),t.uniform4f(h,y.color.r,y.color.g,y.color.b,y.strokeOpacity),n=y.vertices,u=y.indices,s=fr(n,i,o,r),dr(t,a,s,u)}}))}(c.gl,p,r,h,o,e,i),r},[2,c]}var l}))}))}export{xr as default};
